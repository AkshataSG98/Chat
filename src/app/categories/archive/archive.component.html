<div class="archive-container" *ngIf="isArchiveRoute">
    <div class="sidebar">
      <ul>
        <li *ngFor="let contact of contacts" (click)="selectContact(contact)">
          <div class="avatar">{{ getInitial(contact.name) }}</div>
          <span>{{ contact.name }}</span><div class="seperator"></div>
        </li>
      </ul>
    </div>
    <div class="chat-window" *ngIf="selectedContact">
      <div class="chat-header">
        <button class="back-button" (click)="deselectContact()">
          <i class="fas fa-arrow-left"></i>
        </button>
        <div class="avatar">{{ getInitial(selectedContact.name) }}</div>
        <span>{{ selectedContact.name }}</span>
        <button class="call-button">
          <i class="fas fa-phone"></i>
        </button>
        <button class="video-call-button">
          <i class="fas fa-video"></i>
        </button>
        <button class="menu-button" (click)="toggleMenu()">
          <i class="fas fa-ellipsis-v"></i>
      </button>
      <div class="menu" *ngIf="showMenu">
        <ul>
          <li>View Contact</li>
          <li>Block</li>
        </ul>
      </div>
      </div>
      <div class="messages">
        <div *ngFor="let message of messages" [class.from-me]="message.from === 'Me'">
          <strong>{{ message.from }}</strong>: {{ message.text }}
          <span class="timestamp">{{ message.timestamp }}</span>
        </div>
      </div>
      
      <div class="message-input">
        <input #messageInput type="text" placeholder="Type a message..." />
        <button (click)="sendMessage(messageInput.value); messageInput.value = ''">Send</button>
        <button class="sticker-button">
          <i class="fas fa-sticker-mule"></i>
        </button>
        <button class="emoji-button" (click)="toggleEmojiPicker()">
          <i class="fas fa-smile"></i>
        </button>
        <button class="attachment-button">
          <i class="fas fa-paperclip"></i>
        </button>
      </div>
      <div class="emoji-picker" *ngIf="showEmojiPicker">
        <span (click)="addEmoji('ğŸ˜Š')">ğŸ˜Š</span>
        <span (click)="addEmoji('ğŸ˜‚')">ğŸ˜‚</span>
        <span (click)="addEmoji('ğŸ˜')">ğŸ˜</span>
      </div>
    </div>
  </div>
